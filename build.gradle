plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.21'
}

group 'tv.codely'
version = System.getenv("APP_VERSION")

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.12'
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
// See https://www.jetbrains.com/intellij-repository/snapshots
// See https://www.jetbrains.com/intellij-repository/releases
intellij {
    version '201.6668.113'
    updateSinceUntilBuild false
}
publishPlugin {
    setToken(System.getenv("JETBRAINS_TOKEN"))
}
// See http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html
patchPluginXml {
    sinceBuild '201'
    untilBuild '231.*'
    version project.version

    changeNotes """
    <ul>
    <li>2.2.2   Add support to 2023.1 IDEs</li>
    <li>2.2.1   Add support to 2022.3 IDEs</li>
    <li>2.2.0   Add support to the experimental new ui</li>
    <li>2.1.6   Add support to 2022.2 IDEs</li>
    <li>2.1.5   Add support to 2022.1 IDEs</li>
    <li>2.1.4   Add support to 2021.3 IDEs</li>
    <li>2.1.3   Add support to 2021.2 IDEs</li>
    <li>2.1.2   Improve all themes</li>
    <li>2.1.1   Fix Codely Dark theme</li>
    </ul>
      """
}
